<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
		<title>환영합니다.</title>
		<style>
		rect{
			transition : 2s;
		}
		</style>
	</head>
	<body>
	<button id="btn1">click here</button>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.js"></script>
	<script>
		var dataset = [1,2,3,4,5,6,7,8,9,10];
		var dataset2 = [10,9,8,7,6,5,4,3,2,1];
		var maxHeight = 100;
		d3.select('body').append('svg').selectAll('.rect').data(dataset).enter().append('rect')
		.attr('y',function(d){
			return maxHeight -d*10;
		})
		.attr('width',15)
		.attr('height',function(d){
			return d * 10;
		})
		.attr('x',function(d,i){
			return i*20;
		})
		.style('fill',function(d){
			if(d >= 6){
				return 'skyblue';
			}else{
				return 'red';
			}
		}); 
		document.getElementById('btn1').addEventListener('click',function(evt){
			d3.selectAll('rect').data(dataset2)
			.attr('y',function(d){
				return maxHeight -d*10;
			})
			.attr('height',function(d){
				return d * 10;
			});

		});

	</script>
	</body>
</html>
